Offline Peer-to-Peer Payments via Mesh Routing and DAG-Based Consensus

The integration of delay-tolerant mesh routing with directed acyclic graph (DAG) consensus presents a principled architecture for realizing peer-to-peer payments in the absence of continuous internet connectivity. In the proposed design, the communication substrate is provided by an opportunistic mesh that implements peer discovery, store–carry–forward dissemination, and adaptive next-hop selection under high churn. Nodes exchange transactions as content-addressed bundles and retain them according to resource-aware policies that trade off delivery probability, latency, and power consumption. Routing decisions can be guided by encounter-based utility metrics (e.g., PRoPHET) or lightweight learning signals that exploit locality, mobility patterns, and link quality, thereby improving propagation efficiency relative to purely epidemic flooding. This layer ensures that payment messages and their dependencies traverse dynamically evolving topologies and survive partitions through redundancy and opportunistic relaying, while rate-limiting and deduplication mitigate congestion and replay.

Above this substrate, the ledger is modeled as a DAG in which each transaction references and approves a small set of prior tips, enabling concurrent issuance and asynchronous validation without relying on a globally linear chain. Nodes perform local verification of signatures, spend conditions, and conflict relations upon receipt, and they maintain a conflict graph to detect and bound double-spend attempts in disconnected regimes. As partitions heal, peers exchange succinct DAG summaries and missing subgraphs to reconcile state, applying weighted tip selection and conflict resolution rules that account for approval confidence, age, and issuer reputation. Finality is attained probabilistically as the cumulative weight of approvals accrues and conflicts are dominated by consistent histories, permitting nodes to adopt risk-sensitive acceptance thresholds suitable for offline commerce. This decomposition yields a self-healing payment fabric: the mesh layer guarantees durable dissemination under adverse network conditions, and the DAG layer establishes integrity, consistency, and eventual finality with minimal centralized coordination, thereby enabling practical, secure transactions in challenged environments.
